{"version":3,"sources":["components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/SendWriteAndEmoji/SendWriteAndEmoji.module.css","hoc/withAuthRedirect.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Message/MessageContainer.jsx","components/Dialogs/SendWriteAndEmoji/SendWriteAndEmoji.jsx","components/Dialogs/SendWriteAndEmoji/SendWriteAndEmojiContainer.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRredirect","state","isAuth","auth","DialogItem","props","useState","path","id","className","classes","dialog","dialog__img","src","avaImg","dialog__name","to","name","Message","messages","map","item","send","messages__send","get","messages__get","messages__get__img","avatar","MessageContainer","connect","window","location","href","length","dialogsPage","messagesData","dialogsData","maxLength","maxLegnthCreator","minLength","minLengthCreator","SendWriteAndEmojiFormRedux","reduxForm","form","sendWriteAndEmoji","onSubmit","handleSubmit","emoji","Field","component","Textarea","placeholder","validate","required","onClick","sendMessage","SendWriteAndEmojiContainer","addNewMessage","values","newMessage","this","React","Component","messageText","dispatch","addMessage","Dialogs","dialogsListElements","i","k","e","target","matches","dialogs","document","querySelector","Array","from","children","forEach","style","background","getElementById","set","setClickedElementToActive","dialogsItems","exact","store","DialogsContainer","compose","RedirectComponent"],"mappings":"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","file":"static/js/3.3756c26d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__2_IF2\",\"dialog__img\":\"DialogItem_dialog__img__tygWo\",\"dialog__img-container\":\"DialogItem_dialog__img-container__18I10\",\"dialog__name\":\"DialogItem_dialog__name__1q6Md\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2vBP4\",\"dialogsItems\":\"Dialogs_dialogsItems__1j9Jy\",\"messages\":\"Dialogs_messages__35TQw\",\"sendWriteAndEmoji\":\"Dialogs_sendWriteAndEmoji__25eJS\",\"active\":\"Dialogs_active__2O8pi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__2_fE0\",\"messages__send\":\"Message_messages__send__1XTVO\",\"messages__get\":\"Message_messages__get__g8kyB\",\"messages__get__img\":\"Message_messages__get__img__2tm5M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sendWriteAndEmoji\":\"SendWriteAndEmoji_sendWriteAndEmoji__31OCd\",\"emoji\":\"SendWriteAndEmoji_emoji__165MK\",\"write\":\"SendWriteAndEmoji_write__2yF7M\",\"send\":\"SendWriteAndEmoji_send__iiZif\",\"textarea\":\"SendWriteAndEmoji_textarea__3DfXg\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRredirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedicrect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRredirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}","import React, { useState } from 'react';\r\nimport classes from './DialogItem.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = props => {\r\n  const [active, setActive] = useState('goldenrod')\r\n\r\n  let path = '/Dialogs/' + props.id;\r\n\r\n  return (\r\n    <div className={`${classes.dialog}`}>\r\n      <img\r\n        className={`${classes.dialog__img} ${classes['dialog__img-container']}`}\r\n        src={props.avaImg}\r\n      />\r\n      <NavLink\r\n        className={`${classes.dialog__name} ${classes['dialog__name-container']}`}\r\n        to={path}\r\n      >\r\n        {props.name}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from 'react';\r\nimport classes from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div className={classes.messages} >\r\n      {props.messages.map((item) => (\r\n        <>\r\n          {\r\n            item.send && (\r\n              <div className={`${classes.messages__send} ${classes['messages__send-container']}`}>\r\n                {item.send}\r\n              </div>\r\n            )\r\n          }\r\n          {\r\n            item.get && (\r\n              <div className={`${classes.messages__get} ${classes['messages__get-container']}`}>\r\n                <img\r\n                  className={`${classes.messages__get__img} ${classes['messages__get__img-container']}`}\r\n                  src={props.avatar}\r\n                />\r\n                {item.get}\r\n              </div>\r\n            )\r\n          }\r\n        </>\r\n      )\r\n      )}\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Message from './Message';\r\n\r\nlet mapStateToProps = (state) => {\r\n  let id = +window.location.href[window.location.href.length - 1];\r\n  return {\r\n    messages: state.dialogsPage.messagesData[id],\r\n    avatar: state.dialogsPage.dialogsData[id-1].avaImg,\r\n  }\r\n}\r\n\r\nconst MessageContainer = connect(mapStateToProps)(Message);\r\n\r\nexport default MessageContainer;\r\n\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport maxLegnthCreator from '../../../utils/validators/maxLengthCreator';\r\nimport minLengthCreator from '../../../utils/validators/minLengthCreator';\r\nimport required from '../../../utils/validators/required';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\nimport classes from './SendWriteAndEmoji.module.css';\r\n\r\nlet maxLength = maxLegnthCreator(10);\r\nlet minLength = minLengthCreator(1);\r\n\r\nconst SendWriteAndEmoji = (props) => {\r\n  const onSendMessage = () => {\r\n    props.sendMessage();\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className={classes.sendWriteAndEmoji}\r\n      onSubmit={props.handleSubmit}\r\n    >\r\n      <button className={classes.emoji}>emoji</button>\r\n      <Field\r\n        component={Textarea}\r\n        name='newMessage'\r\n        placeholder='enter your message'\r\n        validate={[required, maxLength, minLength]}\r\n      />\r\n\r\n      <button\r\n        className={classes.send}\r\n        onClick={onSendMessage}\r\n      >\r\n        send\r\n        </button>\r\n    </form >\r\n  )\r\n}\r\n\r\nconst SendWriteAndEmojiFormRedux = reduxForm({\r\n  form: 'SendWriteAndEmojiForm'\r\n})(SendWriteAndEmoji);\r\n\r\nexport default SendWriteAndEmojiFormRedux;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addMessage } from '../../../redux/dialogsReducer';\r\nimport SendWriteAndEmojiFormRedux from './SendWriteAndEmoji';\r\n\r\nclass SendWriteAndEmojiContainer extends React.Component {\r\n  addNewMessage = (values) => {\r\n    this.props.sendMessage(values.newMessage)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <SendWriteAndEmojiFormRedux\r\n        {...this.props}\r\n        onSubmit={this.addNewMessage}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    messageText: state.dialogsPage.messageText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessage) => {\r\n      let id = window.location.href[window.location.href.length - 1];\r\n      if (id != +id) return;\r\n      dispatch(addMessage(id, newMessage))\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SendWriteAndEmojiContainer);\r\n\r\n","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport classes from './Dialogs.module.css';\r\nimport MessageContainer from './Message/MessageContainer';\r\nimport SendWriteAndEmojiContainer from './SendWriteAndEmoji/SendWriteAndEmojiContainer';\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsListElements = props.dialogsPage.dialogsData.map((i, k) => {\r\n    let setClickedElementToActive = (e) => {\r\n      const set = () => {\r\n        let dialogs = document.querySelector('#dialogs');\r\n        Array.from(dialogs.children).forEach((i) => i.style.background = '');\r\n        document.getElementById(`a${k}`).style.background = 'goldenrod';\r\n      };\r\n      if (e.target.matches('a')) set();\r\n    }\r\n\r\n    return (\r\n      <div id={`a${k}`} onClick={(e) => setClickedElementToActive(e)}>\r\n        <DialogItem name={i.name} id={i.id} avaImg={i.avaImg} />\r\n      </div>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={classes.dialogs}>\r\n        <div className={classes.dialogsItems} id='dialogs'>\r\n          {dialogsListElements}\r\n        </div>\r\n        <div className={classes.messages}>\r\n          <Route exact path='/Dialogs/1'>\r\n            <MessageContainer />\r\n          </Route>\r\n          <Route exact path='/Dialogs/2'>\r\n            <MessageContainer />\r\n          </Route>\r\n          <Route exact path='/Dialogs/3'>\r\n            <MessageContainer />\r\n          </Route>\r\n          <Route exact path='/Dialogs/4'>\r\n            <MessageContainer />\r\n          </Route>\r\n          <Route exact path='/Dialogs/5'>\r\n            <MessageContainer />\r\n          </Route>\r\n        </div>\r\n        <div className={classes.sendWriteAndEmoji}>\r\n          <SendWriteAndEmojiContainer\r\n            store={props.store}\r\n          />\r\n        </div>\r\n      </div>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedicrect } from '../../hoc/withAuthRedirect';\r\nimport Dialogs from './Dialogs';\r\n\r\nclass DialogsContainer extends React.Component {\r\n  render() {\r\n    return <Dialogs {...this.props} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  dialogsPage: state.dialogsPage\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  withAuthRedicrect\r\n)(DialogsContainer);\r\n\r\n"],"sourceRoot":""}